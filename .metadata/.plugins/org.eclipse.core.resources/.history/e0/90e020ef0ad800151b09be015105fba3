/*
 * 
 */
package FireDangerSystem;

/**
 * @author Kevat Shah
 * @Version 1.0
 */
/**
 * @author Kevat Shah
 * @Version 1.0
 */
public class InitializeSubroutine {
	/**
	 * The method initializes the fire danger system 
	 * and serves as the main/start method for the system
	 *
	 * @param args - CLI arguments passed in to the system
	 */
	public static void main(String[] args) {
		
		//Variables to hold input data
		double dryBulbReading;
		double wetBulbReading;
		Boolean snowOnGround;
		double precip;//Preceding precipitation
		double windSpeed;
		double herbaceousStage;
		
		
		//Variables to hold output data
		double DF = 0; // Drying factor
		double FFM = 0; //Fine fuel moisture
		double ADFM = 0; //Adjusted fuel moisture
		double grassSpread = 0; //Grass spread
		double timberSpread = 0; //Timber spread
		double fLoad = 0; //Fire load rating
		double BUO = 0; //Build up index
		
		dryBulbReading = Input.GetInputDouble("Please input the dry bulb reading:");
		wetBulbReading = Input.GetInputDouble("Please input the wet bulb reading:");
		snowOnGround = Input.GetInputBoolean("Is there snow on the ground? (Y/N):");
		precip = Input.GetInputDouble("Please input the preceding 24-hour precipitation:");
		windSpeed = Input.GetInputDouble("Please input the wind speed:");
		BUO = Input.GetInputDouble("Please input yesterday's build up index:");
		herbaceousStage = Input.GetInputDouble("Please input the current herbaceous stage of vegetation (1=CURED 2=TRANSITION 3=GREAAN):");
				
		if (snowOnGround)
		{
			if (precip > .1)
				BUO = CalculateSpreads.calcBUO(BUO, precip);
		}
		else
		{
			FFM = CalculateSpreads.calcFFM(dryBulbReading, wetBulbReading);
			DF = CalculateSpreads.calcDF(FFM);
			//Adjust FFM
			if (FFM < 1)
				FFM = 1;
			
			BUO = CalculateSpreads.calcBUO(BUO, precip);
			
			//Adjust BUO for rain (BUO is negative)
			
			//Increase BUO by drying factor
			ADFM = CalculateSpreads.calcADFM(FFM, BUO);
			
			
			//Set indexes to 1 if ADFM AND FFM are greater than 30 
			//(NOTE: discrepancy between flow chart (33%) and code (30%)
			
			//Calculate indexes if ADFM or FFM below 30
			grassSpread = CalculateSpreads.calcGrassSpread(windSpeed, FFM);
			timberSpread = CalculateSpreads.calcTimberSpread(windSpeed, ADFM);
			
			
			//Calculate FLoad
			fLoad = CalculateSpreads.calcFLoad(timberSpread, BUO);
		}
			
		
		
        System.out.println("The first name is: " + dryBulbReading);
        System.out.println("The last name is: " + wetBulbReading);
	}

}